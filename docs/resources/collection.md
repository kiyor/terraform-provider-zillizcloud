---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "zillizcloud_collection Resource - zillizcloud"
subcategory: ""
description: |-
  Manages a collection in a Zilliz Cloud database.\n\nThe schema block must be defined inline. Changing the schema, db_name, or collection_name will force resource replacement.
---

# zillizcloud_collection (Resource)

Manages a collection in a Zilliz Cloud database.\n\nThe schema block must be defined inline. Changing the schema, db_name, or collection_name will force resource replacement.

## Example Usage

```terraform
terraform {
  required_providers {
    zillizcloud = {
      source = "zilliztech/zillizcloud"
    }
  }
}

provider "zillizcloud" {
}

data "zillizcloud_project" "default" {
  # Fetching the default project information to be used in cluster provisioning
}

resource "zillizcloud_cluster" "mycluster" {
  cluster_name = "Cluster-03"                        # The name of the cluster
  region_id    = "aws-us-east-2"                     # The region where the cluster will be deployed
  plan         = "Enterprise"                        # The service plan for the cluster
  cu_size      = "1"                                 # The size of the compute unit
  cu_type      = "Performance-optimized"             # The type of compute unit, optimized for performance
  project_id   = data.zillizcloud_project.default.id # Linking to the project ID fetched earlier
}

resource "zillizcloud_database" "mydb" {
  connect_address = zillizcloud_cluster.mycluster.connect_address
  db_name         = "mydb"
  properties = jsonencode({
    "database.replica.number"     = 1
    "database.max.collections"    = 10
    "database.force.deny.writing" = false
    "database.force.deny.reading" = false
  })
}

resource "zillizcloud_collection" "mycollection" {
  connect_address = zillizcloud_cluster.mycluster.connect_address
  db_name         = zillizcloud_database.mydb.db_name
  collection_name = "mycollection"
  schema = {
    auto_id               = true
    enabled_dynamic_field = false
    fields = [
      {
        field_name = "id"
        data_type  = "Int64"
        is_primary = true
      },
      {
        field_name = "vector"
        data_type  = "FloatVector"
        element_type_params = {
          dim = "128"
        }
      }
    ]
  }
  params = jsonencode({
    "mmap.enabled"     = true
    "ttlSeconds"       = 86400
    "consistencyLevel" = "Bounded"
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `collection_name` (String) The name of the collection.
- `connect_address` (String) The connection address of the target Zilliz Cloud cluster.\n\nYou can obtain this value from the output of the `zillizcloud_cluster` resource, for example:\n`zillizcloud_cluster.example.connect_address`\n\n**Example:**\n`https://in01-295cd02566647b7.aws-us-east-2.vectordb.zillizcloud.com:19534`\n\n> **Note:** The address must include the protocol (e.g., `https://`).
- `db_name` (String) The name of the database containing the collection.
- `schema` (Attributes) Defines the schema for the collection. Changing this block will force resource replacement. (see [below for nested schema](#nestedatt--schema))

### Optional

- `params` (Attributes) A JSON-formatted map of advanced params.

**Example:**

`  params = {
    mmap_enabled = true
    ttl_seconds = 86400
    consistency_level = "Bounded"
  }`

> Supports string, integer, and boolean values. (see [below for nested schema](#nestedatt--params))

### Read-Only

- `id` (String) The unique identifier for the collection resource, generated by the service.\n\n**Format:**\n`/connections/{db_name}/collections/{collection_name}`\n\n**Fields:**\n- `db_name` — The database name.\n- `collection_name` — The collection name.\n\n**Example:**\n`/connections/mydb/collections/mycollection`\n\n> **Note:** This value is automatically set and should not be manually specified.

<a id="nestedatt--schema"></a>
### Nested Schema for `schema`

Required:

- `fields` (Attributes List) List of field definitions for the collection schema. Each field describes a column in the collection. (see [below for nested schema](#nestedatt--schema--fields))

Optional:

- `auto_id` (Boolean) Whether to enable automatic ID generation for the collection.
- `enabled_dynamic_field` (Boolean) Whether to enable dynamic fields for the collection.

<a id="nestedatt--schema--fields"></a>
### Nested Schema for `schema.fields`

Required:

- `data_type` (String) The data type of the field (e.g., "INT64", "FLOAT", "STRING", etc.).
- `field_name` (String) The name of the field.

Optional:

- `element_type_params` (Map of String) Additional parameters for element type, if applicable (e.g., for array fields).
- `is_primary` (Boolean) Whether this field is the primary key.



<a id="nestedatt--params"></a>
### Nested Schema for `params`

Optional:

- `consistency_level` (String) The consistency level for the collection. Possible values are "Bounded" or "Unbounded".
- `mmap_enabled` (Boolean) Whether to enable memory-mapped files for the collection.
- `ttl_seconds` (Number) Time-to-live (TTL) in seconds for the collection. After this period, the collection will be automatically deleted.
